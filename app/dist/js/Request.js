!function(){"use strict";class e{constructor(){this.inputElems=document.querySelectorAll(".request__input"),this.buttonEl=document.querySelector(".request__button"),this.policyCheckboxEl=document.querySelector(".request__policy-checkbox"),this.policyErrorEl=document.querySelector(".request__policy-error"),this.innerEl=document.querySelector(".request__inner"),this.inputNameEl=document.querySelector(".request__input-name"),this.successEl=document.querySelector(".request__success")}init(){this.addPhoneMaskToInput(),this.addInputElemsFocusListener(),this.addInputElemsBlurListener(),this.addButtonClickListener(),this.checkComplianceWithPolicy(),this.addFormSubmitListener()}addPhoneMaskToInput(){$(".mask-phone").mask("+7 999-999-99-99")}addInputElemsFocusListener(){this.inputElems.forEach(e=>{e.addEventListener("focus",()=>{e.nextElementSibling.style.display="none",e.classList.remove("is-error")})})}addInputElemsBlurListener(){this.inputElems.forEach(e=>{e.addEventListener("blur",()=>{0===e.value.length?(e.nextElementSibling.style.display="block",e.classList.add("is-error"),e.classList.remove("is-filled"),e.nextElementSibling.textContent="Поле обязательно к заполнению"):(e.classList.add("is-filled"),e.classList.remove("is-error"),e!=this.inputNameEl||this.isValidateNameInput()||(e.nextElementSibling.textContent="Некорректное имя",e.nextElementSibling.style.display="block",e.classList.add("is-error"),e.classList.remove("is-filled")))})})}addButtonClickListener(){this.buttonEl.addEventListener("click",t=>{this.inputElems.forEach(e=>{0===e.value.length?(t.preventDefault(),e.nextElementSibling.style.display="block",e.classList.add("is-error"),e.nextElementSibling.textContent="Поле обязательно к заполнению"):this.isValidateNameInput()||t.preventDefault()})})}addFormSubmitListener(){$("html").on("submit",".form-application",function(e){$(".request__policy-checkbox").prop("checked")?(e.preventDefault(),$(this)[0].reset(),$(".request__success").css("display","flex")):e.preventDefault()})}checkComplianceWithPolicy(){var e=()=>{1==this.policyCheckboxEl.checked?(this.policyErrorEl.style.display="none",this.innerEl.classList.remove("is-start")):(this.policyErrorEl.style.display="block",this.innerEl.classList.add("is-start"))};this.policyCheckboxEl.addEventListener("click",e),this.buttonEl.addEventListener("click",e)}isValidateNameInput(){return/^[A-Za-zА-Яа-яЁё\s]{1}[A-Za-zА-Яа-яЁё\s.\-]{1,}$/.test(this.inputNameEl.value)}}window.addEventListener("load",()=>{(new e).init()})}();